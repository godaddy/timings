<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head'); %>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.6.0/swagger-ui.css">
</head>

<body class="container-fluid">

  <header>
    <%- include('../partials/nav'); %>
  </header>

  <main>
    <div class="container-fluid pt-5">
      <div id="swagger-ui"></div>
    </div>
  </main>
  <%- include('../partials/footer'); %>
  <%- include('../partials/pre_js'); %>

  <!-- ✅ load page-specific JS here... ✅ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.6.0/swagger-ui-bundle.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/3.6.0/swagger-ui-standalone-preset.js"></script>
  <script>
    window.onload = function () {
      // Build a system
      var url = "http://" + window.location.host + '/public/api-docs/v2/index.yaml';
      const ui = SwaggerUIBundle({
        url: url,
        validatorUrl: null,
        showRequestHeaders: true,
        jsonEditor: true,
        dom_id: '#swagger-ui',
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset
        ],
        plugins: [
          SwaggerUIBundle.plugins.DownloadUrl
        ],
        layout: "StandaloneLayout",
        displayRequestDuration: true,
        displayOperationId: true,
        defaultModelExpandDepth: 0,
        defaultModelRendering: 'model'
      })

      window.ui = ui

    }

    function hideTopbar() {
      // this plugin overrides the Topbar component to return nothing
      return {
        components: {
          Topbar: function () {
            return null
          }
        }
      }
    }
  </script>
</body>

</html>